<!DOCTYPE html>
<html lang="en">
<head>
  <title>Formulario</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
      <h5>Cadastro de Clientes</h5>
      <form onsubmit="return verificarNomePreenchido() && verificarCPFPreenchido() && verificarLogradouroPreenchido() && verificarNumeroPreenchido() && verificarBairroPreenchido() && verificarCidadePreenchida() && verificarEstadoPreenchido() && verificarCEPPreenchido() && verificarLimitePreenchido();">
        <div class="mb-1 mt-1">
          <label>Nome(*):</label>
          <input class="form-control" id="nome" placeholder="Entre com o nome">
        </div>
        <div class="mb-1">
          <label>CPF(*):</label>
          <input class="form-control" id="cpf" placeholder="Apenas números (11 digitos)"name="CPF"  onkeypress="permitirApenasNumeros(event)" minlength="11" maxlength="11" required>
        </div>
        <div class="container">
            <div class="row">
              <div class="col-sm-6">
                <div class="mb-1 mt-1">
                    <label>Logradouro(*):</label>
                    <input class="form-control" id="logradouro" placeholder="Entre com Rua Av.Praça etc...">
                </div>
              </div>
              <div class="col-sm-6">
                <div class="mb-1 mt-1">
                    <label>Número(*):</label>
                    <input class="form-control" id="numero" placeholder="Se não houver entre com S/N"name="num" oninput="verificarNumeroPreenchido()" required>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <div class="mb-1 mt-1">
                    <label>Bairro(*):</label>
                    <input class="form-control" id="bairro" placeholder="Entre com bairro">
                </div>
              </div>
              <div class="col-sm-6">
                <div class="mb-1 mt-1">
                    <label>Cidade(*):</label>
                    <input class="form-control" id="cidade" placeholder="Entre com a cidade">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <div class="mb-1 mt-1">
                    <label>Estado(*):</label>
                    <input class="form-control" id="estado" placeholder="Entre com o estado" minlength="1" maxlength="2" required >
                </div>
              </div>
              <div class="col-sm-6">
                <div class="mb-1 mt-1">
                    <label>CEP(*):</label>
                    <input class="form-control" id="cep" placeholder="Apenas números (8 digitos)"  onkeypress="permitirApenasNumeros(event)" minlength="8" maxlength="8" required>
                </div>
              </div>
            </div> 
        </div>  
              <div class="container">
                <div class="row">
                  <div class="col-md-6">
                    <h6>Tipo de cliente(*)</h6>    
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="opcao" id="opcao1" value="opcao1" checked>
                    <label class="form-check-label" for="opcao1">
                      Cliente Padrão
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="opcao" id="opcao2" value="opcao2">
                    <label class="form-check-label" for="opcao2">
                      Cliente Especial Classe 1
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="opcao" id="opcao3" value="opcao3">
                    <label class="form-check-label" for="opcao3">
                      Cliente Especial Classe 2
                    </label>
                  </div>
                </div>
                  <div class="col-sm-6">
                  <h6>*ATENÇÃO*</h6>
                  <P>Cliente Padrão (Não Especial):o limite é sempre de R$ 500.00</P>
                  <P>Cliente Especial Classe 1:o limite é de no maximo de R$ 5.000.00</P>
                  <P>Cliente Especial Classe 2:o limite é de no maximo de R$ 10.000.00</P>
                  </div>
                </div>
              </div>
              <div class="mb mt">
                <label >Límite(*):</label>
                <input class="form-control" id="ultimocampo" placeholder="R$ digite apenas numeros e virgulas">
              </div>
              <button type="submit" class="btn btn-default">Enviar</button>
      </form>
    </div>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>
<script>
  function verificarNomePreenchido() {
    var nomeInput = document.getElementById('nome')
    var nome = nomeInput.value.trim()
    if (nome === '') {
      alert('Por favor, preencha seu nome.');
      nomeInput.focus();
      return false;
    }
    return true;
  }
  function verificarCPFPreenchido() {
          var cpfInput = document.getElementById('cpf');
          var cpf = cpfInput.value.replace(/[^\d]/g, '');
          if (cpf === '') {
            alert('Por favor, preencha o campo CPF,e apenas números.');
            cpfInput.focus();
            return false;
          }          
          if (cpf.length !== 11) {
                alert('O CPF deve conter exatamente 11 dígitos.');
                cpfInput.focus();
                return false;
            }            
          return true;            
          }             
            function verificarLogradouroPreenchido() {
            var logradouroInput = document.getElementById('logradouro');
            var logradouro = logradouroInput.value.trim();
            
            if (logradouro === '') {
                alert('Por favor, preencha o campo Logradouro.');
                logradouroInput.focus();
                return false;
            }       
            return true;
        }
        function verificarNumeroPreenchido() {
            var numeroInput = document.getElementById('numero');
            var numero = numeroInput.value.trim();
            if (numero === '') {
                alert('Por favor, preencha o campo Número.');
                numeroInput.focus();
                return false;
            } 
            if (!/^\d+$|^S\/N$/i.test(numero)) {
                alert('Por favor, insira um número válido ou utilize o formato "S/N".');
                return false;
            }    
            return true;
        }
        function verificarBairroPreenchido() {
            var bairroInput = document.getElementById('bairro');
            var bairro = bairroInput.value.trim();  
            if (bairro === '') {
                alert('Por favor, preencha o campo Bairro.');
                bairroInput.focus();
                return false;
            }  
            return true;
        }
        function verificarCidadePreenchida() {
            var cidadeInput = document.getElementById('cidade');
            var cidade = cidadeInput.value.trim();
            
            if (cidade === '') {
                alert('Por favor, preencha o campo Cidade.');
                cidadeInput.focus();
                return false;
            }  
            return true;
        }
        function verificarEstadoPreenchido() {
            var estadoInput = document.getElementById('estado');
            var estado = estadoInput.value.trim().toUpperCase();
            if (estado === '') {
                alert('Por favor, preencha o campo Estado.');
                estadoInput.focus();
                return false;
            }
            var estados = [
                'AC', 'AL', 'AP', 'AM', 'BA', 'CE', 'DF', 'ES', 'GO', 'MA', 'MT', 'MS',
                'MG', 'PA', 'PB', 'PR', 'PE', 'PI', 'RJ', 'RN', 'RS', 'RO', 'RR', 'SC',
                'SP', 'SE', 'TO'
            ];
            if (!estados.includes(estado)) {
                alert('Por favor, insira um estado válido.');
                estadoInput.focus();
                return false;
            }
            return true;
        }
        function verificarCEPPreenchido() {
            var cepInput = document.getElementById('cep');
            var cep = cepInput.value.trim(); 
            if (cep === '') {
                alert('Por favor, preencha o campo CEP.');
                cepInput.focus();
                return false;
            } 
            if (!/^\d{8}$/.test(cep)) {
                alert('Por favor, insira um CEP válido contendo apenas números e com 8 dígitos.');
                cepInput.focus();
                return false;
            } 
            return true;
        }
        function verificarLimitePreenchido() {
            var limiteInput = document.getElementById('ultimocampo');
            var limite = limiteInput.value.trim();
            var selectedOption = document.querySelector('input[name="opcao"]:checked').value;
            var limiteMaximo;
          if (selectedOption === 'opcao1') {
            limiteMaximo = 500;
            if (limite !== '500') {
              alert('Para a opção Cliente Padrão, o limite deve ser 500.');
              limiteInput.focus();
              return false;
            }
          if (limite === '') {
            alert('Por favor, preencha o campo Limite.');
            limiteInput.focus();
            return false;
          }   
          } else if (selectedOption === 'opcao2') {
            limiteMaximo = 5000;

          } else if (selectedOption === 'opcao3') {
            limiteMaximo = 10000;
            
          }
          if (limite === '') {
            alert('Por favor, preencha o campo Limite.');
            limiteInput.focus();
            return false;
          }   
          var valorLimite = parseFloat(limite.replace(',', '.'));
          if (valorLimite > limiteMaximo) {
            alert('O valor do Limite não pode ser maior que ' + limiteMaximo.toLocaleString('pt-BR') + '.');
            limiteInput.focus();
            return false;
          }
          if (!/^\d{1,4}(,\d{1,2})?$/.test(limite)) {
            alert('Por favor, insira um valor de Limite válido contendo apenas números e vírgulas. Exemplo: 10000,00');
            limiteInput.focus();
            return false;
          }
          return true;
        }

        function permitirApenasNumeros(event) {
            var tecla = event.which || event.keyCode;

            if (tecla < 48 || tecla > 57) {
                event.preventDefault();
            }
        }
</script>
</html>
